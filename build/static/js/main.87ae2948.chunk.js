(this["webpackJsonpreact-infinite-loader"]=this["webpackJsonpreact-infinite-loader"]||[]).push([[0],{42:function(t,e,n){"use strict";n.r(e);var o=n(2),i=n.n(o),a=n(17),r=n.n(a),s=n(8),c=n(3),h=n(4),d=n(6),l=n(5),p=n(0),u=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this,t)).createObserver=function(){var t={root:o.props.containerEl||null,rootMargin:"0px",threshold:1};new IntersectionObserver(o.handleIntersect,t).observe(o.loaderEl.current)},o.handleIntersect=function(t){!o.props.isLoading&&o.props.hasMoreData&&t.forEach((function(t){t.intersectionRatio>o.prevRatio&&o.props.onLoad(),o.prevRatio=t.intersectionRatio}))},o.loaderEl=i.a.createRef(),o.prevRatio=0,o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.createObserver()}},{key:"render",value:function(){return Object(p.jsx)("div",{ref:this.loaderEl})}}]),n}(o.Component),j=n(18),b=n.n(j);var O=function(t){return Object(p.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(p.jsx)("h3",{children:t.photo.title}),Object(p.jsx)("img",{loading:"lazy",style:{maxWidth:"100%"},src:t.photo.url,alt:"test"})]})},f=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this,t)).getphotos=function(){var t=o.state.page;o.setState({isLoading:!0}),b()("https://jsonplaceholder.typicode.com/photos?_limit=10&_page=".concat(t)).then((function(e){o.setState({isLoading:!1,photos:[].concat(Object(s.a)(o.state.photos),Object(s.a)(e.data)),page:t+1})})).catch((function(t){o.setState({isLoading:!1})}))},o.state={isLoading:!1,page:1,photos:[]},o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getphotos()}},{key:"render",value:function(){var t=this.state,e=t.isLoading,n=t.photos;return Object(p.jsxs)("div",{style:{paddingBottom:"20px"},children:[n.map((function(t){return Object(p.jsx)(O,{photo:t},t.id)})),e?Object(p.jsx)("h4",{children:"Loading..."}):null,Object(p.jsx)(u,{isLoading:this.state.isLoading,onLoad:this.getphotos,hasMoreData:!0})]})}}]),n}(o.Component);var v=function(){return Object(p.jsxs)("div",{style:{maxWidth:"600px",width:"95%",margin:"auto",fontFamily:"Noto Sans JP"},children:[Object(p.jsx)("h2",{children:"This is minimal implementation of Infinite Loader using Intersection Observer API in reactJS"}),Object(p.jsxs)("p",{children:["Read more about it ",Object(p.jsx)("a",{href:"https://gulamhussain.dev",children:"here"})]}),Object(p.jsx)(f,{})]})};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.87ae2948.chunk.js.map